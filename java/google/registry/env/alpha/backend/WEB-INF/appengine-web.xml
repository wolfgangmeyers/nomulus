<?xml version="1.0" encoding="UTF-8"?>
<appengine-web-app xmlns="http://appengine.google.com/ns/1.0">

  <application>domain-registry-alpha</application>
  <version>alpha</version>
  <module>backend</module>
  <threadsafe>true</threadsafe>
  <sessions-enabled>true</sessions-enabled>
  <instance-class>B4</instance-class>
  <basic-scaling>
    <max-instances>10</max-instances>
    <idle-timeout>10m</idle-timeout>
  </basic-scaling>

  <resource-files>
    <include path="/WEB-INF/*.yaml"/>
  </resource-files>

  <system-properties>
    <property name="java.util.logging.config.file"
              value="WEB-INF/logging.properties"/>
    <property name="google.registry.environment"
              value="alpha"/>
    <property name="google.registry.config"
              value="domains.donuts.config.DonutsRegistryConfig"/>
  </system-properties>

  <static-files>
    <include path="/*.html" expiration="1m"/>
    <include path="/assets/js/**" expiration="1m"/>
    <include path="/assets/css/**" expiration="1m"/>
    <include path="/assets/images/**" expiration="1m"/>
  </static-files>

  <!-- Prevent uncaught servlet errors from leaking a stack trace. -->
  <static-error-handlers>
    <handler file="error.html"/>
  </static-error-handlers>
</appengine-web-app>
